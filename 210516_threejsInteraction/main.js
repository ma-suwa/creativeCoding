(()=>{"use strict";class e{constructor(){this.scrollY=0,this.mouse=new THREE.Vector2(0,0),this.w=window.innerWidth,this.h=window.innerHeight,this.renderer=new THREE.WebGLRenderer({antialias:!0}),this.renderer.setSize(this.w,this.h),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setClearColor(15658734),document.getElementById("myCanvas").appendChild(this.renderer.domElement);const e=Math.PI/180*30,s=this.h/2/Math.tan(e);this.camera=new THREE.PerspectiveCamera(60,this.w/this.h,1,2*s),this.camera.position.z=s,this.scene=new THREE.Scene,this.scene.fog=new THREE.Fog(13421772,0,2e3),this.pointLight=new THREE.PointLight(16777215),this.pointLight.position.set(40,40,0),this.scene.add(this.pointLight),this.ambientLight=new THREE.AmbientLight(16777215,.9),this.scene.add(this.ambientLight),this.meshList=[];for(let e=0;e<50;e++)this.mesh=new t(60),this.mesh.position.set(i(-this.w/2,this.w/2),i(-this.h/2,this.h/2),i(-this.h/4,this.h/2)),this.meshList.push(this.mesh),this.scene.add(this.mesh);this.renderer.render(this.scene,this.camera),this.render()}render(){requestAnimationFrame((()=>{this.render()}));const e=performance.now()/1e3;for(let t=0;t<this.meshList.length;t++)this.mesh=this.meshList[t],this.mesh.rotation.x=e*(Math.PI/4)+t*Math.PI/12,this.mesh.rotation.y=e*(Math.PI/4)+t*Math.PI/12;this.camera.position.y+=.1*(this.scrollY/2-this.camera.position.y),this.renderer.render(this.scene,this.camera)}mouseMoved(e,t){this.mouse.x=e-this.w/2,this.mouse.y=-t+this.h/2,this.pointLight.position.x+=.05*(this.mouse.x-this.pointLight.position.x),this.pointLight.position.y+=.05*(this.mouse.y-this.pointLight.position.y)}scrolled(e){this.scrollY=e}resized(){this.w=window.innerWidth,this.h=window.innerHeight,this.renderer.setSize(this.w,this.h),this.renderer.setPixelRatio(window.devicePixelRatio),this.camera.aspect=this.w/this.h,this.camera.updateProjectionMatrix()}}class t extends THREE.Mesh{constructor(e){super(new THREE.TorusGeometry(e,20,60,50),new THREE.MeshLambertMaterial({color:16777215}))}}function i(e,t){return Math.random()*(t-e)+e}window.addEventListener("load",(function(){const t=new e;t.scrolled(window.scrollY),window.addEventListener("mousemove",(e=>{t.mouseMoved(e.clientX,e.clientY)})),window.addEventListener("scroll",(e=>{t.scrolled(window.scrollY)})),window.addEventListener("resize",(e=>{t.resized()}))}))})();