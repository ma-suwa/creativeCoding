(()=>{"use strict";class e{constructor(e,t=" .:-=+*#%@",i={}){const n=i.resolution?i.resolution:.15,s=i.scale?i.scale:1,r=!!i.color&&i.color,o=!!i.alpha&&i.alpha,h=!!i.block&&i.block,l=!!i.invert&&i.invert;let a,d;const c=document.createElement("div");c.style.cursor="default";const m=document.createElement("table");let u,w,E;c.appendChild(m),this.setSize=function(t,i){a=t,d=i,e.setSize(t,i),function(){u=Math.round(a*b),w=Math.round(d*b),R.width=u,R.height=w,E=e.domElement,E.style.backgroundColor&&(m.rows[0].cells[0].style.backgroundColor=E.style.backgroundColor,m.rows[0].cells[0].style.color=E.style.color),m.cellSpacing=0,m.cellPadding=0;const t=m.style;t.display="inline",t.width=Math.round(u/b*s)+"px",t.height=Math.round(w/b*s)+"px",t.whiteSpace="pre",t.margin="0px",t.padding="0px",t.letterSpacing=S+"px",t.fontFamily=p,t.fontSize=H+"px",t.lineHeight=C+"px",t.textAlign="left",t.textDecoration="none"}()},this.render=function(t,i){e.render(t,i),function(e,t){x.clearRect(0,0,u,w),x.drawImage(v,0,0,u,w);const i=x.getImageData(0,0,u,w).data;let n="";for(let e=0;e<w;e+=2){for(let t=0;t<u;t++){const s=4*(e*u+t),a=i[s],d=i[s+1],c=i[s+2],m=i[s+3];let w,E;E=(.3*a+.59*d+.11*c)/255,0==m&&(E=1),w=Math.floor((1-E)*(y.length-1)),l&&(w=y.length-w-1);let g=y[w];void 0!==g&&" "!=g||(g="&nbsp;"),n+=r?"<span style='color:rgb("+a+","+d+","+c+");"+(h?"background-color:rgb("+a+","+d+","+c+");":"")+(o?"opacity:"+m/255+";":"")+"'>"+g+"</span>":g}n+="<br/>"}t.innerHTML="<tr><td>"+n+"</td></tr>"}(0,m)},this.domElement=c;const g=" .,:;i1tfLCG08@".split(""),f=" CGO08@".split(""),p="Noto Sans JP",v=e.domElement,R=document.createElement("canvas");if(!R.getContext)return;const x=R.getContext("2d");if(!x.getImageData)return;let y=r?f:g;t&&(y=t);let b=.5;b=.25,n&&(b=n);const H=2/b*s,C=2/b*s;let S=0;switch(s){case 1:S=-1;break;case 2:case 3:S=-2.1;break;case 4:S=-3.1;break;case 5:S=-4.15}}}class t{constructor(){this.scrollY=0,this.mouse=new THREE.Vector2(.5,.5),this.targetRadius=.05,this.w=window.innerWidth,this.h=window.innerHeight,this.renderer=new THREE.WebGLRenderer({antialias:!0}),this.renderer.setSize(this.w,this.h),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setClearColor(15658734),document.getElementById("myCanvas").appendChild(this.renderer.domElement);const t=Math.PI/180*30,i=this.h/2/Math.tan(t);this.camera=new THREE.PerspectiveCamera(60,this.w/this.h,1,2*i),this.camera.position.z=i,this.scene=new THREE.Scene,this.scene.fog=new THREE.Fog(13421772,0,2e3),this.pointLight=new THREE.PointLight(16777215),this.pointLight.position.set(40,40,0),this.scene.add(this.pointLight),this.ambientLight=new THREE.AmbientLight(16777215,.9),this.scene.add(this.ambientLight),this.effect=new e(this.renderer," ｭ?ｹｼ譁怜喧ｿ縺代ユ 繧繧繝",{invert:!0}),this.effect.setSize(this.w,this.h),this.effect.domElement.style.color="#FFF",this.effect.domElement.style.backgroundColor="#000",document.getElementById("effect").appendChild(this.effect.domElement);const n=new THREE.PlaneGeometry(2,2,10,10);this.uniforms={u_time:{value:0},u_resolution:{type:"v2",value:new THREE.Vector2(this.renderer.domElement.width,this.renderer.domElement.height)},u_mouse:{value:new THREE.Vector2(.5,.5)},u_scrollY:{value:0},u_radius:{value:this.targetRadius}};const s=new THREE.ShaderMaterial({uniforms:this.uniforms,vertexShader:document.getElementById("vertexShader").textContent,fragmentShader:document.getElementById("fragmentShader").textContent,wireframe:!1});this.plane=new THREE.Mesh(n,s),this.scene.add(this.plane),this.renderer.render(this.scene,this.camera),this.render()}render(){requestAnimationFrame((()=>{this.render()}));const e=performance.now()/1e3;this.plane.material.uniforms.u_time.value=e,this.uniforms.u_mouse.value.lerp(this.mouse,.1),this.uniforms.u_scrollY.value=this.scrollY,this.effect.render(this.scene,this.camera)}mouseMoved(e,t){this.mouse.x=e/this.w,this.mouse.y=1-t/this.h}scrolled(e){this.scrollY=e}resized(){this.w=window.innerWidth,this.h=window.innerHeight,this.renderer.setSize(this.w,this.h),this.renderer.setPixelRatio(window.devicePixelRatio),this.effect.setSize(this.w,this.h),this.camera.aspect=this.w/this.h,this.camera.updateProjectionMatrix(),this.uniforms.u_resolution.value=new THREE.Vector2(this.renderer.domElement.width,this.renderer.domElement.height)}}THREE.Mesh,window.addEventListener("load",(function(){const e=new t;e.scrolled(window.scrollY),window.addEventListener("mousemove",(t=>{e.mouseMoved(t.clientX,t.clientY)})),window.addEventListener("scroll",(t=>{e.scrolled(window.scrollY)})),window.addEventListener("resize",(t=>{e.resized()}))}))})();